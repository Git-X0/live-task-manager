<h2>MÅ¯j Task Manager</h2>

<!-- Input pro novÃ½ Ãºkol -->
<div class="add-task">
  <input
    #newTaskInput
    type="text"
    [(ngModel)]="newTask"
    placeholder="NapiÅ¡ Ãºkol..."
    (keyup.enter)="addTask()"
  />
  <button (click)="addTask()">+</button>
</div>

<!-- Filtry -->
<div class="filters">
  <button (click)="filter.set('all')">VÅ¡e</button>
  <button (click)="filter.set('active')">AktivnÃ­</button>
  <button (click)="filter.set('completed')">SplnÄ›nÃ©</button>
  <button (click)="clearCompleted()">Smazat splnÄ›nÃ©</button>
</div>

<!-- Seznam ÃºkolÅ¯ -->
<ul>
  @for (task of filteredTasks(); track task.id) {
  <li>
    <input
      type="checkbox"
      [checked]="task.completed"
      (change)="toggleTask(task.id)"
    />

    <!-- EditovatelnÃ¡ ÄÃ¡st -->
    @if (editingId() === task.id) {
    <input
      #editingu
      type="text"
      [value]="editingText"
      (input)="editingText = editingu.value"
      (blur)="saveEdit(task.id)"
      (keyup.enter)="saveEdit(task.id)"
      autofocus
    />
    } @else {
    <span [class.completed]="task.completed" (dblclick)="startEdit(task)">
      {{ task.text }}
    </span>
    }

    <button (click)="removeTask(task.id)">ğŸ—‘ï¸</button>
  </li>
  }
</ul>

<!-- PoÄet zbÃ½vajÃ­cÃ­ch ÃºkolÅ¯ -->
<p>ZbÃ½vÃ¡: {{ remainingCount() }} ÃºkolÅ¯</p>
